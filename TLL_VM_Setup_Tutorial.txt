# ğŸ–¥ï¸ VM Setup Tutorial for Triple Loop Learning (TLL) Project on RDBMS (PostgreSQL & SQL Server)

This guide helps you configure an Ubuntu 22.04 LTS virtual machine to run the complete TLL project, including AI-driven anomaly detection, PostgreSQL support, and optional SQL Server with UI interfaces.

Â© 2025 â€“ William K., University of Vienna, Department of Computer Science  
ğŸ“§ a09726537@unet.univie.ac.at

---

## ğŸ”§ 1. VM Configuration

**Recommended Specs:**

- CPU: 2+ cores  
- RAM: 8 GB  
- Disk: 20+ GB  
- OS: Ubuntu 22.04 LTS (64-bit)

**Platforms supported:**

- VirtualBox  
- VMware Workstation  
- Hyper-V  
- Cloud instances (AWS EC2, Azure, Google Cloud)

---

## ğŸ›  2. Basic Ubuntu Setup

```bash
sudo apt update && sudo apt upgrade -y

# Install base tools
sudo apt install -y python3 python3-pip python3-venv git curl wget unzip
```

---

## ğŸ˜ 3. Install PostgreSQL

```bash
sudo apt install postgresql postgresql-contrib -y

# Enable and start service
sudo systemctl enable postgresql
sudo systemctl start postgresql

# Create PostgreSQL user and database
sudo -u postgres createuser tll_user
sudo -u postgres createdb tll_db -O tll_user
```

---

## ğŸ§± 4. (Optional) Install SQL Server via Docker

```bash
sudo apt install docker.io docker-compose -y
sudo systemctl enable docker
sudo systemctl start docker

# Pull and run SQL Server (Developer Edition)
sudo docker run -e 'ACCEPT_EULA=Y' -e 'SA_PASSWORD=YourP@ssword123' \
 -p 1433:1433 --name sqlserver \
 -d mcr.microsoft.com/mssql/server:2022-latest
```

---

## ğŸ 5. Python Environment Setup

```bash
# Clone the TLL repository
git clone https://github.com/a09726537/tll-rdbms.git
cd tll-rdbms

# Create and activate virtual environment
python3 -m venv venv
source venv/bin/activate

# Install required Python packages
pip install -r requirements.txt
```

---

## ğŸš€ 6. Launch Detection & UI Interfaces

```bash
# Launch Flask-based REST API
python tll_flask_api.py

# In a separate terminal
streamlit run tll_streamlit_ui.py
```

Access Streamlit UI via http://localhost:8501 and API via http://localhost:5000.

---

## ğŸ§ª 7. Testing the System

You can test the system in 3 ways:

- Submit SQL log entries via POST to /detect  
- View real-time detection output in the Streamlit UI  
- Adjust detection policy via /update_threshold endpoint

---

## ğŸ” 8. Optional Security (UFW Firewall)

```bash
# Allow only necessary ports
sudo ufw allow 5432/tcp   # PostgreSQL
sudo ufw allow 5000/tcp   # Flask API
sudo ufw allow 8501/tcp   # Streamlit
sudo ufw enable
```

---

## ğŸ“ File Layout in VM

```bash
~/tll-rdbms/
â”œâ”€â”€ madgan_train.py             â† GAN training for anomaly generation
â”œâ”€â”€ tll_double_loop_rl.py       â† Reinforcement learning baseline
â”œâ”€â”€ tll_triple_loop_meta.py     â† Final TLL architecture (MAML)
â”œâ”€â”€ tll_flask_api.py            â† REST API interface
â”œâ”€â”€ tll_streamlit_ui.py         â† Dashboard and UI
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ load_unsw.py            â† Preprocess UNSW-NB15 dataset
â”‚   â”œâ”€â”€ inject_gan_samples.py   â† Add GAN-generated anomalies
â”œâ”€â”€ tll_vm_runbook/
â”‚   â””â”€â”€ runbook.pdf             â† Operational instructions and test cases
â”œâ”€â”€ requirements.txt
â””â”€â”€ ...
```

---

ğŸ“Œ For detailed model configurations and validation steps, refer to:  
**runbook.pdf** in the tll_vm_runbook/ directory.

---
